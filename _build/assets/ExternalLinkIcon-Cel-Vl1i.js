import{C as V,a as w,g as le,D as k,G as J,e as O,z as ue,o as T,u as fe,H as he,J as de,K as pe,L as me,b as ge,k as N,N as ve,i as G,t as X,j as we,r as ye,w as K}from"./index-BgvkotlM.js";function Pe(){let e=new Set;function t(s){return e.add(s),()=>e.delete(s)}let n=!1;function r(s,a){if(n)return!(n=!1);const o={to:s,options:a,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const i of e)i.listener({...o,from:i.location,retry:l=>{l&&(n=!0),i.navigate(s,{...a,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}let F;function Q(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),F=window.history.state._depth}Q();function Ue(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function ze(e,t){let n=!1;return()=>{const r=F;Q();const s=r==null?null:F-r;if(n){n=!1;return}s&&t(s)?(n=!0,window.history.go(-s)):e()}}const Re=/^(?:[a-z0-9]+:)?\/\//i,Ce=/^\/+|(\/)\/+$/g,xe="http://sr";function R(e,t=!1){const n=e.replace(Ce,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function $(e,t,n){if(Re.test(t))return;const r=R(e),s=n&&R(n);let a="";return!s||t.startsWith("/")?a=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?a=r+s:a=s,(a||"/")+R(t,!a)}function be(e,t){if(e==null)throw new Error(t);return e}function Le(e,t){return R(e).replace(/\/*(\*.*)?$/g,"")+R(t)}function Y(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function Ae(e,t,n){const[r,s]=e.split("/*",2),a=r.split("/").filter(Boolean),o=a.length;return i=>{const l=i.split("/").filter(Boolean),h=l.length-o;if(h<0||h>0&&s===void 0&&!t)return null;const f={path:o?"":"/",params:{}},m=p=>n===void 0?void 0:n[p];for(let p=0;p<o;p++){const d=a[p],v=d[0]===":",y=v?l[p]:l[p].toLowerCase(),b=v?d.slice(1):d.toLowerCase();if(v&&I(y,m(b)))f.params[b]=y;else if(v||!I(y,b))return null;f.path+=`/${y}`}if(s){const p=h?l.slice(-h).join("/"):"";if(I(p,m(s)))f.params[s]=p;else return null}return f}}function I(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Ee(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((s,a)=>s+(a.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Z(e){const t=new Map,n=le();return new Proxy({},{get(r,s){return t.has(s)||V(n,()=>t.set(s,w(()=>e()[s]))),t.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function ee(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const s=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=t[1]),r=r.slice(t[0].length);return ee(r).reduce((a,o)=>[...a,...s.map(i=>i+o)],[])}const Se=100,_e=J(),te=J(),W=()=>be(k(_e),"<A> and 'use' router primitives can be only used inside a Route."),Oe=()=>k(te)||W().base,$e=e=>{const t=Oe();return w(()=>t.resolvePath(e()))},je=e=>{const t=W();return w(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},Be=()=>W().location;function Ie(e,t=""){const{component:n,preload:r,load:s,children:a,info:o}=e,i=!a||Array.isArray(a)&&!a.length,l={key:e,component:n,preload:r||s,info:o};return ne(e.path).reduce((h,f)=>{for(const m of ee(f)){const p=Le(t,m);let d=i?p:p.split("/*",1)[0];d=d.split("/").map(v=>v.startsWith(":")||v.startsWith("*")?v:encodeURIComponent(v)).join("/"),h.push({...l,originalPath:f,pattern:d,matcher:Ae(d,!i,e.matchFilters)})}return h},[])}function Me(e,t=0){return{routes:e,score:Ee(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s],o=a.matcher(n);if(!o)return null;r.unshift({...o,route:a})}return r}}}function ne(e){return Array.isArray(e)?e:[e]}function Fe(e,t="",n=[],r=[]){const s=ne(e);for(let a=0,o=s.length;a<o;a++){const i=s[a];if(i&&typeof i=="object"){i.hasOwnProperty("path")||(i.path="");const l=Ie(i,t);for(const h of l){n.push(h);const f=Array.isArray(i.children)&&i.children.length===0;if(i.children&&!f)Fe(i.children,h.pattern,n,r);else{const m=Me([...n],r.length);r.push(m)}n.pop()}}}return n.length?r:r.sort((a,o)=>o.score-a.score)}function M(e,t){for(let n=0,r=e.length;n<r;n++){const s=e[n].matcher(t);if(s)return s}return[]}function ke(e,t,n){const r=new URL(xe),s=w(f=>{const m=e();try{return new URL(m,r)}catch{return console.error(`Invalid path ${m}`),f}},r,{equals:(f,m)=>f.href===m.href}),a=w(()=>s().pathname),o=w(()=>s().search,!0),i=w(()=>s().hash),l=()=>"",h=T(o,()=>Y(s()));return{get pathname(){return a()},get search(){return o()},get hash(){return i()},get state(){return t()},get key(){return l()},query:n?n(h):Z(h)}}let P;function Ne(){return P}function Ke(e){}function Ve(e,t,n,r={}){const{signal:[s,a],utils:o={}}=e,i=o.parsePath||(c=>c),l=o.renderPath||(c=>c),h=o.beforeLeave||Pe(),f=$("",r.base||"");if(f===void 0)throw new Error(`${f} is not a valid base path`);f&&!s().value&&a({value:f,replace:!0,scroll:!1});const[m,p]=O(!1);let d;const v=(c,u)=>{u.value===y()&&u.state===A()||(d===void 0&&p(!0),P=c,d=u,de(()=>{d===u&&(b(d.value),re(d.state),me(),q[1](g=>g.filter(C=>C.pending)))}).finally(()=>{d===u&&pe(()=>{P=void 0,c==="navigate"&&ie(d),p(!1),d=void 0})}))},[y,b]=O(s().value),[A,re]=O(s().state),E=ke(y,A,o.queryWrapper),S=[],q=O([]),D=w(()=>typeof r.transformUrl=="function"?M(t(),r.transformUrl(E.pathname)):M(t(),E.pathname)),H=()=>{const c=D(),u={};for(let g=0;g<c.length;g++)Object.assign(u,c[g].params);return u},se=o.paramsWrapper?o.paramsWrapper(H,t):Z(H),U={pattern:f,path:()=>f,outlet:()=>null,resolvePath(c){return $(f,c)}};return ue(T(s,c=>v("native",c),{defer:!0})),{base:U,location:E,params:se,isRouting:m,renderPath:l,parsePath:i,navigatorFactory:oe,matches:D,beforeLeave:h,preloadRoute:ce,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:q};function ae(c,u,g){fe(()=>{if(typeof u=="number"){u&&(o.go?o.go(u):console.warn("Router integration does not support relative routing"));return}const C=!u||u[0]==="?",{replace:j,resolve:x,scroll:B,state:L}={replace:!1,resolve:!C,scroll:!0,...g},_=x?c.resolvePath(u):$(C&&E.pathname||"",u);if(_===void 0)throw new Error(`Path '${u}' is not a routable path`);if(S.length>=Se)throw new Error("Too many redirects");const z=y();(_!==z||L!==A())&&(he||h.confirm(_,g)&&(S.push({value:z,replace:j,scroll:B,state:A()}),v("navigate",{value:_,state:L})))})}function oe(c){return c=c||k(te)||U,(u,g)=>ae(c,u,g)}function ie(c){const u=S[0];u&&(a({...c,replace:u.replace,scroll:u.scroll}),S.length=0)}function ce(c,u){const g=M(t(),c.pathname),C=P;P="preload";for(let j in g){const{route:x,params:B}=g[j];x.component&&x.component.preload&&x.component.preload();const{preload:L}=x;u&&L&&V(n(),()=>L({params:B,location:{pathname:c.pathname,search:c.search,hash:c.hash,query:Y(c),state:null,key:""},intent:"preload"}))}P=C}}function Je(e,t,n,r){const{base:s,location:a,params:o}=e,{pattern:i,component:l,preload:h}=r().route,f=w(()=>r().path);l&&l.preload&&l.preload();const m=h?h({params:o,location:a,intent:P||"initial"}):void 0;return{parent:t,pattern:i,path:f,outlet:()=>l?ge(l,{params:o,location:a,data:m,get children(){return n()}}):n(),resolvePath(d){return $(s.path(),d,f())}}}var We=X("<a>");function Te(e){e=N({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=ve(e,["href","state","class","activeClass","inactiveClass","end"]),n=$e(()=>e.href),r=je(n),s=Be(),a=w(()=>{const o=n();if(o===void 0)return[!1,!1];const i=R(o.split(/[?#]/,1)[0]).toLowerCase(),l=decodeURI(R(s.pathname).toLowerCase());return[e.end?i===l:l.startsWith(i+"/")||l===i,i===l]});return(()=>{var o=G(We);return we(o,N(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!a()[0],[e.activeClass]:a()[0],...t.classList}},link:"",get"aria-current"(){return a()[1]?"page":void 0}}),!1,!1),ye(),o})()}var qe=X('<svg viewBox="0 0 32 32"fill=none xmlns=http://www.w3.org/2000/svg><path d="M16 8H8C7.29276 8 6.61448 8.28095 6.11438 8.78105C5.61428 9.28114 5.33333 9.95942 5.33333 10.6667V24C5.33333 24.7072 5.61428 25.3855 6.11438 25.8856C6.61448 26.3857 7.29276 26.6667 8 26.6667H21.3333C22.0406 26.6667 22.7189 26.3857 23.2189 25.8856C23.719 25.3855 24 24.7072 24 24V16M14.6667 17.3333L26.6667 5.33333M26.6667 5.33333H20M26.6667 5.33333V12"stroke=#000000 stroke-width=3 stroke-linecap=round stroke-linejoin=round>');function Ge(e){const{size:t=32}=e;return(()=>{var n=G(qe);return K(n,"width",t),K(n,"height",t),n})()}export{Te as A,Ge as E,_e as R,Ve as a,te as b,Fe as c,Je as d,Pe as e,Q as f,Ne as g,Ue as k,xe as m,ze as n,Ke as s};
